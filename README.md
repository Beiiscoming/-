# 如何定義一波疫情

## 背景介紹
為比較各地區數波疫情之下的各種資訊(ex 防疫疲乏)，需要有第一波、第二波、第三波疫情的區別，為此開發一套演算法來定義一波疫情。

## 研究流程

### 1. 針對防疫疲乏之各面向提出假設定義
- 確定研究的主要面向：人潮移動疲乏、日常習慣疲乏和心理疲乏。
- 為每個面向提出具體的假設，定義每個面向的具體指標。

### 2. 資料蒐集
- **網路爬蟲**：使用爬蟲技術自動蒐集相關數據。計算每日新增病例數的7天移動平均（單位為「數量/萬」）。
- 
取出每週的平均值（第一週的第一天為該國開始記錄病例數的第一天）。
將第一波的開始日期定義為該國開始記錄病例數的第一天。
找出整個資料庫的局部最小值和局部最大值。令當下資料點為 ε：

    若此時 ε 的左右相鄰一個資料點值皆大於 ε，則令 ε 為局部最小值；
    若此時 ε 的左右一個資料點值皆小於 ε，則令 ε 為局部最大值。

過濾小於每日新增病例數資料庫中位數的區域最大值。
將起始週定義為區域最小值所對應到的週數。
將終止週定義為當區域最大值下降至10%時所對應到的週數。
如果程式沒有算出最後的終止週，會直接將最後一波的終止週設為研究資料的最後一週（例如 2022-03-19 至 2022-03-25 那週）。
